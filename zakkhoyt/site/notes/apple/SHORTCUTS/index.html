<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zakk Hoyt">
        <link rel="canonical" href="https://zakkhoyt.github.io/notes/apple/SHORTCUTS/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Ideas - Zakk's Notes</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">Zakk's Notes</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../.." class="nav-link">About</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../" class="nav-link">Notes</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#ideas" class="nav-link">Ideas</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#quickaction" class="nav-link">QuickAction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#tips" class="nav-link">Tips</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#comments" class="nav-link">Comments</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#debugging" class="nav-link">Debugging</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#branching" class="nav-link">Branching</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#return-early" class="nav-link">Return Early</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#reuse-dry" class="nav-link">Reuse / DRY</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#scripting-actions" class="nav-link">Scripting Actions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#list" class="nav-link">List</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#dictionary" class="nav-link">Dictionary</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#io" class="nav-link">I/O</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#import-question" class="nav-link">Import Question</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#find" class="nav-link">Find</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#shellscript" class="nav-link">Shellscript</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#references" class="nav-link">References</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="ideas">Ideas</h1>
<h2 id="quickaction">QuickAction</h2>
<ul>
<li>[ ] convert macAddress to <a href="https://qa-tools.hatchbaby.com/cs/product/34:AB:95:5D:2D:7E/logs">QA Tools URL</a></li>
<li>Format text as multiline (80 char lines)</li>
<li>insert line numbers + line counts</li>
<li>search in DDG </li>
<li>Define</li>
</ul>
<h1 id="tips">Tips</h1>
<ul>
<li>Use <code>cmd</code>+<code>x</code> to cut and context menu to paste. </li>
<li>This makes moving multiple actions much easier. </li>
</ul>
<h1 id="comments">Comments</h1>
<ul>
<li><code>Comment</code>: This action lets you explain how part of a shortcut works.</li>
</ul>
<h1 id="debugging">Debugging</h1>
<p><code>Shortcuts</code> has limited debugging support. There is no error catching/handling. </p>
<ul>
<li>Use a <code>QuickLook Action</code> after an action to see a visual representation</li>
<li>
<p>Use <code>View Content Graph</code> to cast the data to types (picking from a D3 type menu)</p>
</li>
<li>
<p><code>Append to Text File</code>: Adds the text passed as input to the end of the specified text file.</p>
</li>
<li><code>Speak Text</code>: Speaks the inputted text aloud.</li>
</ul>
<p>You can run scripts to help with error handling:
* <code>Run Shell Script</code>
* <code>Run Shell Script over SSH</code>
* <code>Run Applescript</code>
* <code>Run Javascript for Mac Automation</code></p>
<h1 id="branching">Branching</h1>
<ul>
<li><code>If</code>: Tests if a condition is true, and if so, runs the actions inside. Otherwise, the actions under “Otherwise” are run.</li>
<li><code>Repeat</code>: Repeats the contained actions, running them the specified number of times.</li>
<li><code>Repeat with Each</code>: Takes a list of items as input, and runs the contained actions once for each item in the list.</li>
</ul>
<h1 id="return-early">Return Early</h1>
<p>asdf
* <code>Stop this Shortcut</code>: Stops execution of the current shortcut and dismisses the shortcut on screen. No more actions will be run after this action.
* <code>Stop and Output</code>: Stops execution of the current shortcut, and outputs content. This action is useful when:
  * Running a shortcut from another shortcut. The output will be used as the output of the Run Shortcut action.
  * Running a shortcut from Quick Actions in Finder on macOS. The output will be saved as a file alongside the files selected in Finder.
  * Running a shortcut from Services on macOS. The output will replace the selected text, if applicable.
  * Or, when running a shortcut from another location that supports output, like the command-line or the Shortcuts URL scheme.</p>
<h1 id="reuse-dry">Reuse / DRY</h1>
<ul>
<li><code>Run Shortcut</code>: Runs another shortcut and returns the result</li>
</ul>
<h1 id="scripting-actions">Scripting Actions</h1>
<h2 id="list">List</h2>
<ul>
<li><code>Choose from List</code></li>
<li><code>Get Item from List</code></li>
<li><code>List</code></li>
</ul>
<h2 id="dictionary">Dictionary</h2>
<ul>
<li><code>Dictionary</code></li>
<li><code>Get Dictionary from Input</code></li>
<li><code>Get Dictionary Value</code></li>
<li><code>Set Dictionary Value</code></li>
</ul>
<h1 id="io">I/O</h1>
<ul>
<li><a href="https://support.apple.com/en-gb/guide/shortcuts/apd68b5c9161/7.0/ios/17.0">Ask for Input</a>: Displays a dialog prompting the user to enter a piece of information.</li>
<li><a href="https://support.apple.com/en-gb/guide/shortcuts/apd8b28e2166/7.0/ios/17.0">Ask Each Time</a>: allows you to adjust the parameters of an action at runtime. Using the Ask Each Time variable, you can wait to decide how an action should operate until the shortcut is run.</li>
<li><code>Play Sound</code>: Plays the audio file passed as input, or a default notification sound if no audio file was passed.</li>
<li><code>Show Alert</code>: Displays an alert with a title, a message, and two buttons. If the user selects the OK button, the shortcut continues. The cancel button stops the shortcut.</li>
<li><code>Show Notification</code>: Displays a local notification.</li>
</ul>
<h2 id="import-question">Import Question</h2>
<ul>
<li><a href="https://support.apple.com/guide/shortcuts/add-import-questions-to-shared-shortcuts-apdf330fd3a0/ios">Import Questions</a></li>
</ul>
<p>When writing the shortcut, adding <code>Import Questions</code> isn't enough. you then need to click "customize shortcut" and answer the questions. </p>
<h1 id="find">Find</h1>
<ul>
<li><a href="https://support.apple.com/en-gb/guide/shortcuts/apd3c845e881/7.0/ios/17.0">Get</a></li>
<li><a href="https://support.apple.com/en-gb/guide/shortcuts/apd3c845e881/7.0/ios/17.0">Find</a></li>
</ul>
<h1 id="shellscript">Shellscript</h1>
<pre><code class="language-sh">#!/bin/zsh

# -- begin shortcuts bootstrap

# About scripts for Shortcuts:
# * stdout is used for script output (stderr does not go out) (all lines)
# * stderr is used to show error to the user on non-0 exit (all lines)

# set -e

# Logs to stdout when IS_DEBUG
# In Shortcuts, all stdout is output from the shellscript action on 0 exit
unset -v IS_DEBUG
IS_DEBUG=&quot;true&quot;
log_d() {
  if [[ -z &quot;${IS_DEBUG}&quot; ]]; then
    echo &quot;DEBUG: $*&quot;
  fi
}

# Writes to stderr. 
# In Shortcuts, all stderr is presented to the user on non-0 exit
log_stderr() {
  echo &quot;\$*: $*&quot; 1&gt;&amp;2 
}

if [[ -z &quot;$1&quot; ]]; then
  log_stderr &quot;ERR: No text arguments received.&quot;
  exit 1
fi
input=&quot;$1&quot;
log_d &quot;input: $input&quot;

# -- begin script work

echo &quot;output (input): $input&quot;

# Check for gnu-sed
# GSED_PATH=$(which gsed)
GSED_PATH=/opt/homebrew/bin/gsed
ls -1 &quot;$GSED_PATH&quot; &gt; /dev/null 2&gt;&amp;1
RVAL=$?
if [[ $RVAL -ne 0 ]]; then
  log_stderr 'Required tool not found: gsed
To install: brew install gnu-sed'
  exit 1
else 
  log_d &quot;Found gsed at: ${GSED_PATH}&quot;
fi

# Convert input from words to HTML highlighted keyboard shortcuts
# ```sh
# $ echo &quot;cmd + shift + l&quot; | gsed -r 's|(\W+)| + |g' | gsed -r 's|(\w+)|&lt;kbd&gt;\1&lt;/kbd&gt;|g' | tr '[:upper:]' '[:lower:]'
# &lt;kbd&gt;cmd&lt;/kbd&gt; + &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;l&lt;/kbd&gt;
# ```
output=$(echo &quot;$input&quot; | &quot;$GSED_PATH&quot; -r 's|(\W+)| + |g' | &quot;$GSED_PATH&quot; -r 's|(\w+)|&lt;kbd&gt;\1&lt;/kbd&gt;|g' | tr '[:upper:]' '[:lower:]')

# Output
log_d &quot;output: $output&quot;
echo &quot;$output&quot;
</code></pre>
<h1 id="references">References</h1>
<ul>
<li><a href="https://support.apple.com/en-gb/guide/shortcuts/welcome/7.0/ios">Shortcuts User Guide</a></li>
<li><a href="https://support.apple.com/guide/shortcuts-mac/APD8EFA49A70/7.0/mac/14.2">Apple Docs</a></li>
<li><a href="https://support.apple.com/en-gb/guide/shortcuts/apd4dcacc115/7.0/ios/17.0#apd19a8dbc87">Choose from List</a></li>
<li><a href="https://support.apple.com/en-gb/guide/shortcuts/apdd7bf369da/7.0/ios/17.0">Choose from Menu</a></li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
